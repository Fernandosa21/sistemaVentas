[{"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\index.js":"1","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\App.js":"2","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\reportWebVitals.js":"3","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\login\\login.js":"4","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\sales\\sales.js":"5","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\navBar\\navBar.js":"6","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\orders\\orders.js":"7","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\sales\\cutOff.js":"8","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\services\\SaleService.js":"9","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\services\\SaleDetailsService.js":"10"},{"size":517,"mtime":1610502393965,"results":"11","hashOfConfig":"12"},{"size":891,"mtime":1610932067259,"results":"13","hashOfConfig":"12"},{"size":375,"mtime":1610502393970,"results":"14","hashOfConfig":"12"},{"size":685,"mtime":1610595984415,"results":"15","hashOfConfig":"12"},{"size":2182,"mtime":1610595984560,"results":"16","hashOfConfig":"12"},{"size":796,"mtime":1610598048615,"results":"17","hashOfConfig":"12"},{"size":3552,"mtime":1611017610061,"results":"18","hashOfConfig":"12"},{"size":4735,"mtime":1611017842315,"results":"19","hashOfConfig":"12"},{"size":227,"mtime":1611017554228,"results":"20","hashOfConfig":"12"},{"size":218,"mtime":1611017554225,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"f1f2f5",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\index.js",[],["44","45"],"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\App.js",[],"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\reportWebVitals.js",[],"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\login\\login.js",[],"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\sales\\sales.js",[],"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\navBar\\navBar.js",[],"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\orders\\orders.js",["46","47","48","49","50"],"import React, { useState, useEffect } from \"react\";\r\nimport { FiChevronRight, FiChevronLeft } from \"react-icons/fi\";\r\nimport { getSales } from '../../services/SaleService'\r\nimport { getSaleDetails } from '../../services/SaleDetailsService'\r\n\r\nconst Orders = () => {\r\n  useEffect(() => {\r\n    callApi();\r\n  },\r\n  []);\r\n\r\n  const callApi = async() =>{\r\n    const sales = await getSales(true);\r\n    setOrders(sales.sales)\r\n  }\r\n\r\n  const [details, setDetails] = useState(false);\r\n  const [selectedOrder, setSelectedOrder] = useState();\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  const selectOrder = async (order) => {\r\n    const saleDetails = await getSaleDetails(order.id_sale);\r\n    const currentOrder = {\r\n      ...order,\r\n      products: saleDetails.saleDetails\r\n    }\r\n    setSelectedOrder(currentOrder)\r\n    setDetails(true);\r\n  }\r\n\r\n  const calculateTotal = () => {\r\n    const total = selectedOrder.products.reduce((acc,item) => acc+(item.price*item.quantity) , 0)\r\n    return total\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-12 p-0 d-flex justify-content-center\">\r\n      { !details ?\r\n        <div className=\"col-8 \">\r\n          <h1>Ordenes</h1>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"text-center\" scope=\"col\">#</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map((order, index) => (\r\n                <tr key={index}>\r\n                  <th className=\"text-center\" scope=\"row\">{order.id_order}</th>\r\n                  <td className=\"text-right\">\r\n                    <button type=\"button\" class=\"btn btn-link\" onClick={() => selectOrder(order)}>\r\n                      <FiChevronRight />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        :\r\n        <div className=\"col-8 \">\r\n          <h1>Detallas de Ordenes</h1>\r\n          <div className=\"col-8\">\r\n            <button type=\"button\" class=\"btn btn-link\" onClick={() => setDetails(false)}>\r\n              <FiChevronLeft />\r\n              <text>Atras</text>\r\n            </button>\r\n          </div>\r\n          <div className=\"col-8 row\">\r\n            <text>Orden Numero:</text>\r\n            <text> {selectedOrder.id_order}</text>\r\n          </div>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"text-center\" scope=\"col\">Cantidad</th>\r\n                <th className=\"text-center\" scope=\"col\">Producto</th>\r\n                <th className=\"text-center\" scope=\"col\">Precio</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {selectedOrder.products.map((product, index) => (\r\n                <tr key={index}>\r\n                  <td className=\"text-center\" scope=\"row\">{product.quantity}</td>\r\n                  <td className=\"text-center\" scope=\"row\">{product.name}</td>\r\n                  <td className=\"text-center\" scope=\"row\">{product.price}</td>\r\n                </tr>\r\n              ))}\r\n              <td className=\"text-center\" scope=\"row\"></td>\r\n              <th className=\"text-center\" scope=\"row\">Total</th>\r\n              <td className=\"text-center\" scope=\"row\">{calculateTotal()}</td>\r\n            </tbody>\r\n          </table>\r\n          <div className=\"text-right\">\r\n            <button type=\"button\" class=\"btn btn-info\">Cobrar</button>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;","C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\components\\sales\\cutOff.js",[],"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\services\\SaleService.js",[],"C:\\Users\\grana\\Documents\\GitHub\\sistemaVentas\\src\\services\\SaleDetailsService.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":86,"column":47,"nodeType":"57","endLine":86,"endColumn":58},{"ruleId":"55","severity":1,"message":"56","line":87,"column":47,"nodeType":"57","endLine":87,"endColumn":58},{"ruleId":"55","severity":1,"message":"56","line":88,"column":47,"nodeType":"57","endLine":88,"endColumn":58},{"ruleId":"55","severity":1,"message":"56","line":91,"column":43,"nodeType":"57","endLine":91,"endColumn":54},{"ruleId":"55","severity":1,"message":"56","line":93,"column":43,"nodeType":"57","endLine":93,"endColumn":54},"no-native-reassign",["58"],"no-negated-in-lhs",["59"],"jsx-a11y/scope","The scope prop can only be used on <th> elements.","JSXAttribute","no-global-assign","no-unsafe-negation"]